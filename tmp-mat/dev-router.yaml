# General Settings
log_level: debug

# Network Settings
host: 'localhost'
router_port: '6432'
admin_console_port: '7433'
grpc_api_port: '7001'

# Debug Settings
show_notice_messages: true
init_sql: './tmp/dev-init.sql'
use_coordinator_init: true
use_init_sql: false

# Frontend Rules
# Frontend rule is a specification of how clients connect to the router.
frontend_rules:
  - db: postgres
    usr: usr
    pool_mode: TRANSACTION
    pool_prepared_statement: true
    auth_rule:
      auth_method: ok

# Backend Rules
backend_rules:
  - db: postgres
    usr: usr
    pool_discard: false
    pool_rollback: true
    auth_rules:
      sh1:
        usr: usr
        password: pswd
      sh2:
        usr: usr
        password: pswd

# Shards
shards:
  sh1:
    db: postgres
    usr: usr
    pwd: pswd
    type: DATA
    tls:
      sslmode: disable
    hosts:
      - 'localhost:5431'
  sh2:
    db: postgres
    usr: usr
    pwd: pswd
    type: DATA
    tls:
      sslmode: disable
    hosts:
      - 'localhost:5430'


with_jaeger: false
world_shard_fallback: true
router_mode: PROXY
with_coordinator: true

query_routing:
  default_route_behaviour: ALLOW
