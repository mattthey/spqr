# General Settings
log_level: debug

# Network Settings
host: 'localhost'
router_port: '6432'
admin_console_port: '6433'
grpc_api_port: '7001'

# Debug Settings
show_notice_messages: true
init_sql: './tmp-mat/dev-init.sql'
use_coordinator_init: false
use_init_sql: false

# Frontend Rules
# Frontend rule is a specification of how clients connect to the router.
frontend_rules:
  - db: db1
    usr: user1
    pool_mode: TRANSACTION
    pool_prepared_statement: true
    auth_rule:
      auth_method: ok

# Backend Rules
backend_rules:
  - db: db1
    usr: user1
    pool_discard: false
    pool_rollback: true
    auth_rules:
      sh1:
        usr: user1
        password: pswd
      sh2:
        usr: user1
        password: pswd

# Shards
shards:
  sh1:
    db: db1
    usr: user1
    pwd: pswd
    type: DATA
    tls:
      sslmode: disable
    hosts:
      - 'localhost:7432'
  sh2:
    db: db1
    usr: user1
    pwd: pswd
    type: DATA
    tls:
      sslmode: disable
    hosts:
      - 'localhost:7433'
  sh3:
    db: db1
    usr: user1
    pwd: pswd
    type: DATA
    tls:
      sslmode: disable
    hosts:
      - 'localhost:7434'

with_jaeger: false
world_shard_fallback: true
router_mode: PROXY
with_coordinator: true

query_routing:
  default_route_behaviour: ALLOW
